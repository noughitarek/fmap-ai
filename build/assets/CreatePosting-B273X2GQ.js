import{W as q,r as E,j as e,Y as w,a as D,B as p,y as k}from"./app-BoZTgQsX.js";import{P as F}from"./Page--3rH9CWd.js";import{W as R}from"./Webmaster-Bv87JR7w.js";import{G as n,C as S}from"./CustomTextarea-DEG0QHIv.js";import{C as T}from"./CustomTextInput-Z86LNiYJ.js";import{C as o}from"./CustomSelect-DoeCfrj0.js";import{h as c}from"./button-B2sf8A_v.js";import"./createLucideIcon-D7_ziMnv.js";import"./facebook-KEMOOEa1.js";import"./save-DI95csvW.js";import"./transition-DzzVVFzt.js";import"./render-CcWegbys.js";import"./disabled-CPkVuo-X.js";const Q=({auth:g,accounts:x,categories:h,titles:f,photos:j,descriptions:_,menu:b})=>{const s=q({name:"",description:"",postings_category_id:0,accounts_group_id:0,titles_group_id:0,photos_group_id:0,posting_prices:[]}),[l,u]=E.useState(!1),i=r=>{const{name:t,value:a}=r.target;s.setData(t,a)},v=async r=>{r.preventDefault(),u(!0),s.post(route("postings.store"),{forceFormData:!0,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{p.success("Posting has been created successfully"),k.get(route("postings.index"))},onError:t=>{p.error("Error creating the account"),console.error("Error:",t)},onFinish:()=>{u(!1)}})},N=r=>{r.preventDefault(),s.setData(t=>({...t,posting_prices:[...t.posting_prices,0]}))},y=r=>{s.setData(t=>({...t,posting_prices:t.posting_prices.filter((a,P)=>P!==r)}))},C=(r,t)=>{const a=[...s.data.posting_prices];a[r]=t,s.setData("posting_prices",a)},d=e.jsx(c,{className:"btn btn-primary",onClick:N,children:"More"}),m=e.jsx(c,{className:"btn btn-primary mt-4",disabled:l,onClick:v,children:l?"Creating":"Create"});return e.jsxs(e.Fragment,{children:[e.jsx(w,{title:"Create a account"}),e.jsx(R,{user:g.user,menu:b,breadcrumb:e.jsxs(e.Fragment,{children:[e.jsx("li",{className:"breadcrumb-item","aria-current":"page",children:e.jsx(D,{href:route("postings.index"),children:"Postings"})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Create"})]}),children:e.jsxs(F,{title:"Create a account",header:e.jsx(e.Fragment,{}),children:[e.jsxs(n,{title:"Posting's information",header:m,children:[e.jsx(T,{title:"Name",value:s.data.name,name:"name",description:"Enter the name of the account",required:!0,handleChange:i,instructions:"Minimum 5 caracters"}),e.jsx(S,{title:"Description",value:s.data.description,name:"description",description:"Enter the description of the account",required:!1,handleChange:i,instructions:"Not required"}),e.jsx(o,{title:"Postings category",elements:h,value:s.data.postings_category_id,name:"postings_category_id",description:"Enter the category you want to assing the account to",required:!0,handleChange:i,instructions:"Required"})]}),e.jsxs(n,{title:"Posting assets",children:[e.jsx(o,{title:"Accounts group",elements:x,value:s.data.accounts_group_id,name:"accounts_group_id",description:"Enter the group of accounts you want to use",required:!0,handleChange:i,instructions:"Required"}),e.jsx(o,{title:"Titles group",elements:f,value:s.data.titles_group_id,name:"titles_group_id",description:"Enter the group of titles you want to use",required:!0,handleChange:i,instructions:"Required"}),e.jsx(o,{title:"Photos group",elements:j,value:s.data.photos_group_id,name:"photos_group_id",description:"Enter the group of photos you want to use",required:!0,handleChange:i,instructions:"Required"}),e.jsx(o,{title:"Descriptions group",elements:_,value:s.data.descriptions_group_id,name:"descriptions_group_id",description:"Enter the group of descriptions you want to use",required:!1,handleChange:i,instructions:"Not required"})]}),e.jsxs(n,{title:"Posting prices",header:d,children:[s.data.posting_prices.map((r,t)=>e.jsxs("div",{className:"form-inline items-start flex-col xl:flex-row mt-5 pt-5 first:mt-0 first:pt-0 pb-4",children:[e.jsx("div",{className:"form-label xl:w-64 xl:!mr-10",children:e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"font-medium",children:["Price ",t+1]}),e.jsx("div",{className:"ml-2 px-2 py-0.5 bg-slate-200 text-slate-600 dark:bg-darkmode-300 dark:text-slate-400 text-xs rounded-md",children:"Required"})]}),e.jsx("div",{className:"leading-relaxed text-slate-500 text-xs mt-3",children:"price"})]})}),e.jsx("div",{className:"w-full mt-3 xl:mt-0 flex-1",children:e.jsxs("div",{className:"w-full mt-3 xl:mt-2 flex-1",children:[e.jsx("input",{type:"number",required:!0,onChange:a=>C(t,Number(a.target.value)),className:"form-control"}),e.jsx("div",{className:"form-help text-right mt-2",children:"Price"})]})}),e.jsx("div",{className:"mt-3 xl:mt-0 ms-2",children:e.jsx(c,{className:"btn btn-primary",onClick:()=>y(t),children:"-"})})]},t)),d]}),e.jsx("br",{}),m]})})]})};export{Q as default};
