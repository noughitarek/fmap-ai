import{j as e,r,B as p}from"./app-BoZTgQsX.js";import{C as g}from"./CustomTextInput-Z86LNiYJ.js";import{d as v}from"./index-CzHoZ9vO.js";import{R as j}from"./react-loading-CApvQKdu.js";import{S as b}from"./save-DI95csvW.js";import"./createLucideIcon-D7_ziMnv.js";const h=({title:s,name:a,required:d,description:i,instructions:n,value:l,min:o,max:m,handleChange:c})=>e.jsxs("div",{className:"form-inline items-start flex-col xl:flex-row mt-5 pt-5 first:mt-0 first:pt-0 pb-4",children:[e.jsx("div",{className:"form-label xl:w-64 xl:!mr-10",children:e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"font-medium",children:s}),d&&e.jsx("div",{className:"ml-2 px-2 py-0.5 bg-slate-200 text-slate-600 dark:bg-darkmode-300 dark:text-slate-400 text-xs rounded-md",children:"Required"})]}),i&&e.jsx("div",{className:"leading-relaxed text-slate-500 text-xs mt-3",children:i})]})}),e.jsxs("div",{className:"w-full mt-3 xl:mt-0 flex-1",children:[e.jsx("input",{type:"number",value:l,min:o,max:m,name:a,className:"form-control",onChange:c}),n&&e.jsx("div",{className:"form-help text-right mt-2",children:n})]})]}),C=({settings:s})=>{const[a,d]=r.useState(s.id),[i,n]=r.useState(s.title),[l,o]=r.useState(s.minimum_pourcentage),[m,c]=r.useState(s.max_per_minute),[u,x]=r.useState(!1),f=async()=>{x(!0),v.Inertia.post(route("settings.save"),{"settings.id":a,"settings.title":i,"settings.minimum_pourcentage":l,"settings.max_per_minute":m},{onSuccess:()=>{p.success("Settings saved successfully"),x(!1)},onError:t=>{p.error("Failed to save settings",t),x(!1)}})};return e.jsx("div",{className:"grid grid-cols-12 gap-6",children:e.jsxs("div",{className:"intro-y box col-span-12 2xl:col-span-6",children:[e.jsxs("div",{className:"flex items-center px-5 py-5 sm:py-3 border-b border-slate-200/60 dark:border-darkmode-400",children:[e.jsx("h2",{className:"font-medium text-base mr-auto",children:"General settings"}),e.jsxs("button",{onClick:f,disabled:u,className:"btn btn-outline-secondary hidden sm:flex",children:[!u&&e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"w-4 h-4 mr-2"})," Save"]}),u&&e.jsxs(e.Fragment,{children:[e.jsx(j,{type:"spin",color:"green",height:18,width:18}),"Â  Saving"]})]})]}),e.jsxs("div",{className:"p-5",children:[e.jsx(g,{title:"Id",description:"An id for this website",instructions:"required",name:"settings.id",value:a,handleChange:t=>d(t.target.value),required:!0}),e.jsx(g,{title:"Title",description:"A title for this website",instructions:"required",name:"settings.title",value:i,handleChange:t=>n(t.target.value),required:!0}),e.jsx(h,{title:"Minimum pourcentage",description:"A title for this website",instructions:"required",name:"settings.minimum_pourcentage",value:Number(l),handleChange:t=>o(t.target.value),required:!0}),e.jsx(h,{title:"Max messages per minute",description:"A title for this website",instructions:"required",name:"settings.max_per_minute",value:Number(m),handleChange:t=>c(t.target.value),required:!0})]})]})})};export{C as default};
