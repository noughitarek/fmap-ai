import{r as v,W as E,j as e,Y as C,a as T,B as d,y}from"./app-dtYpB2pc.js";import{W as G}from"./Webmaster-CrnXKKSZ.js";import{P as k}from"./Page-AWksGIBO.js";import{G as u,C as q}from"./CustomTextarea-Pr9TB7mp.js";import{C as D}from"./CustomTextInput-CRGU20-H.js";import{h as l}from"./button-BLv4ZLOr.js";import"./createLucideIcon-CyBU6K7F.js";import"./facebook-Dv8De7Q2.js";import"./save-B9B5oMJb.js";import"./transition-mFquH0Tb.js";import"./render-CcaDLSFt.js";import"./disabled-CQgWAbIn.js";const z=({auth:x,menu:p,group:a})=>{const[n,o]=v.useState(!1),r=E({name:a.name||"",description:a.description||"",titles:a.string_titles||[]}),m=s=>{const{name:t,value:i}=s.target;r.setData(t,i)},h=async s=>{s.preventDefault(),o(!0),r.post(route("titles.update",{group:a.id}),{onSuccess:()=>{d.success("Group of titles has been updated successfully"),y.get(route("titles.index"))},onError:t=>{d.error("Error updating the group of titles"),console.error("Error:",t)},onFinish:()=>{o(!1)}})},f=s=>{s.preventDefault(),r.setData(t=>({...t,titles:[...t.titles,""]}))},j=s=>{r.setData(t=>({...t,titles:t.titles.filter((i,N)=>N!==s)}))},b=(s,t)=>{const i=[...r.data.titles];i[s]=t,r.setData("titles",i)},c=e.jsx(l,{className:"btn btn-primary",onClick:f,children:"More"}),g=e.jsx(l,{className:"btn btn-primary",disabled:n,onClick:h,children:n?"Editing":"Edit"});return e.jsxs(e.Fragment,{children:[e.jsx(C,{title:"Edit a group of titles"}),e.jsx(G,{user:x.user,menu:p,breadcrumb:e.jsxs(e.Fragment,{children:[e.jsx("li",{className:"breadcrumb-item","aria-current":"page",children:e.jsx(T,{href:route("titles.index"),children:"Titles"})}),e.jsx("li",{className:"breadcrumb-item","aria-current":"page",children:"Groups"}),e.jsx("li",{className:"breadcrumb-item","aria-current":"page",children:a.name}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Update"})]}),children:e.jsxs(k,{title:"Edit a group of titles",header:e.jsx(e.Fragment,{}),children:[e.jsxs(u,{title:"Groups information",children:[e.jsx(D,{title:"Name",value:r.data.name,name:"name",description:"Enter the name of the group",required:!0,handleChange:m,instructions:"Minimum 5 caracters"}),e.jsx(q,{title:"Description",value:r.data.description,name:"description",description:"Enter the description of the group",required:!1,handleChange:m,instructions:"Not required"})]}),e.jsxs(u,{title:"Groups titles",header:c,children:[r.data.titles.map((s,t)=>e.jsxs("div",{className:"form-inline items-start flex-col xl:flex-row mt-5 pt-5 first:mt-0 first:pt-0 pb-4",children:[e.jsx("div",{className:"form-label xl:w-64 xl:!mr-10",children:e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"font-medium",children:["Title ",t+1]}),e.jsx("div",{className:"ml-2 px-2 py-0.5 bg-slate-200 text-slate-600 dark:bg-darkmode-300 dark:text-slate-400 text-xs rounded-md",children:"Required"})]}),e.jsx("div",{className:"leading-relaxed text-slate-500 text-xs mt-3",children:"description"})]})}),e.jsxs("div",{className:"w-full mt-3 xl:mt-0 flex-1",children:[e.jsx("input",{type:"text",required:!0,className:"form-control",onChange:i=>b(t,i.target.value),value:s||""}),e.jsx("div",{className:"form-help text-right mt-2",children:"Title"})]}),e.jsx("div",{className:"mt-3 xl:mt-0 ms-2",children:e.jsx(l,{className:"btn btn-primary",onClick:()=>j(t),children:"-"})})]},t)),c]}),e.jsx("br",{}),g]})})]})};export{z as default};
