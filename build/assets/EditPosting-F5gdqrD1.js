import{W as w,r as D,j as e,Y as k,a as F,B as g,y as R}from"./app-dtYpB2pc.js";import{P as M}from"./Page-AWksGIBO.js";import{W as S}from"./Webmaster-CrnXKKSZ.js";import{G as c,C as T}from"./CustomTextarea-Pr9TB7mp.js";import{C as B}from"./CustomTextInput-CRGU20-H.js";import{C as n}from"./CustomSelect-Dx_0Qx_h.js";import{C as x}from"./CustomNumber-CC0JTfm6.js";import{h as d}from"./button-BLv4ZLOr.js";import"./createLucideIcon-CyBU6K7F.js";import"./facebook-Dv8De7Q2.js";import"./save-B9B5oMJb.js";import"./transition-mFquH0Tb.js";import"./render-CcaDLSFt.js";import"./disabled-CQgWAbIn.js";const X=({auth:_,posting:r,accounts:h,categories:f,titles:j,photos:v,descriptions:y,menu:b})=>{const t=w({name:r.name,description:r.description,max_per_day:r.max_per_day,photo_per_listing:r.photo_per_listing,postings_category_id:r.postings_category_id,accounts_group_id:r.accounts_group_id,titles_group_id:r.titles_group_id,photos_group_id:r.photos_group_id,descriptions_group_id:r.descriptions_group_id,posting_prices:r.posting_prices_numbers}),[u,l]=D.useState(!1),o=i=>{const{name:s,value:a}=i.target;t.setData(s,a)},N=async i=>{i.preventDefault(),l(!0),t.post(route("postings.update",{posting:r.id}),{forceFormData:!0,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{g.success("Posting has been updated successfully"),R.get(route("postings.index"))},onError:s=>{g.error("Error updating the posting"),console.error("Error:",s)},onFinish:()=>{l(!1)}})},E=i=>{i.preventDefault(),t.setData(s=>({...s,posting_prices:[...s.posting_prices,0]}))},q=i=>{t.setData(s=>({...s,posting_prices:s.posting_prices.filter((a,C)=>C!==i)}))},P=(i,s)=>{const a=[...t.data.posting_prices];a[i]=s,t.setData("posting_prices",a)},m=e.jsx(d,{className:"btn btn-primary",onClick:E,children:"More"}),p=e.jsx(d,{className:"btn btn-primary mt-4",disabled:u,onClick:N,children:u?"Editing":"Edit"});return e.jsxs(e.Fragment,{children:[e.jsx(k,{title:"Edit a posting"}),e.jsx(S,{user:_.user,menu:b,breadcrumb:e.jsxs(e.Fragment,{children:[e.jsx("li",{className:"breadcrumb-item","aria-current":"page",children:e.jsx(F,{href:route("postings.index"),children:"Postings"})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Edit"})]}),children:e.jsxs(M,{title:"Edit a posting",header:e.jsx(e.Fragment,{}),children:[e.jsxs(c,{title:"Posting's information",header:p,children:[e.jsx(B,{title:"Name",value:t.data.name,name:"name",description:"Enter the name of the account",required:!0,handleChange:o,instructions:"Minimum 5 caracters"}),e.jsx(T,{title:"Description",value:t.data.description,name:"description",description:"Enter the description of the account",required:!1,handleChange:o,instructions:"Not required"}),e.jsx(n,{title:"Postings category",elements:f,value:t.data.postings_category_id,name:"postings_category_id",description:"Enter the category you want to assing the account to",required:!0,handleChange:o,instructions:"Required"}),e.jsx(x,{title:"Max per day",value:t.data.max_per_day,name:"max_per_day",description:"Enter the name of the account",required:!0,handleChange:o,instructions:"Minimum 5 caracters"}),e.jsx(x,{title:"Photo per listing",value:t.data.photo_per_listing,name:"photo_per_listing",description:"Enter the name of the account",required:!0,handleChange:o,instructions:"Minimum 5 caracters"})]}),e.jsxs(c,{title:"Posting assets",children:[e.jsx(n,{title:"Accounts group",elements:h,value:t.data.accounts_group_id,name:"accounts_group_id",description:"Enter the group of accounts you want to use",required:!0,handleChange:o,instructions:"Required"}),e.jsx(n,{title:"Titles group",elements:j,value:t.data.titles_group_id,name:"titles_group_id",description:"Enter the group of titles you want to use",required:!0,handleChange:o,instructions:"Required"}),e.jsx(n,{title:"Photos group",elements:v,value:t.data.photos_group_id,name:"photos_group_id",description:"Enter the group of photos you want to use",required:!0,handleChange:o,instructions:"Required"}),e.jsx(n,{title:"Descriptions group",elements:y,value:t.data.descriptions_group_id,name:"descriptions_group_id",description:"Enter the group of descriptions you want to use",required:!1,handleChange:o,instructions:"Not required"})]}),e.jsxs(c,{title:"Posting prices",header:m,children:[t.data.posting_prices.map((i,s)=>e.jsxs("div",{className:"form-inline items-start flex-col xl:flex-row mt-5 pt-5 first:mt-0 first:pt-0 pb-4",children:[e.jsx("div",{className:"form-label xl:w-64 xl:!mr-10",children:e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"font-medium",children:["Price ",s+1]}),e.jsx("div",{className:"ml-2 px-2 py-0.5 bg-slate-200 text-slate-600 dark:bg-darkmode-300 dark:text-slate-400 text-xs rounded-md",children:"Required"})]}),e.jsx("div",{className:"leading-relaxed text-slate-500 text-xs mt-3",children:"price"})]})}),e.jsx("div",{className:"w-full mt-3 xl:mt-0 flex-1",children:e.jsxs("div",{className:"w-full mt-3 xl:mt-2 flex-1",children:[e.jsx("input",{type:"number",value:i,required:!0,onChange:a=>P(s,Number(a.target.value)),className:"form-control"}),e.jsx("div",{className:"form-help text-right mt-2",children:"Price"})]})}),e.jsx("div",{className:"mt-3 xl:mt-0 ms-2",children:e.jsx(d,{className:"btn btn-primary",onClick:()=>q(s),children:"-"})})]},s)),m]}),e.jsx("br",{}),p]})})]})};export{X as default};
