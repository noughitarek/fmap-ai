import{W as E,r as w,j as e,Y as D,a as k,B as p,y as F}from"./app-dtYpB2pc.js";import{P as R}from"./Page-AWksGIBO.js";import{W as M}from"./Webmaster-CrnXKKSZ.js";import{G as n,C as S}from"./CustomTextarea-Pr9TB7mp.js";import{C as T}from"./CustomTextInput-CRGU20-H.js";import{C as o}from"./CustomSelect-Dx_0Qx_h.js";import{C as g}from"./CustomNumber-CC0JTfm6.js";import{h as c}from"./button-BLv4ZLOr.js";import"./createLucideIcon-CyBU6K7F.js";import"./facebook-Dv8De7Q2.js";import"./save-B9B5oMJb.js";import"./transition-mFquH0Tb.js";import"./render-CcaDLSFt.js";import"./disabled-CQgWAbIn.js";const V=({auth:x,accounts:h,categories:_,titles:f,photos:j,descriptions:v,menu:b})=>{const t=E({name:"",description:"",max_per_day:120,photo_per_listing:1,postings_category_id:0,accounts_group_id:0,titles_group_id:0,photos_group_id:0,posting_prices:[]}),[l,u]=w.useState(!1),i=s=>{const{name:r,value:a}=s.target;t.setData(r,a)},y=async s=>{s.preventDefault(),u(!0),t.post(route("postings.store"),{forceFormData:!0,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{p.success("Posting has been created successfully"),F.get(route("postings.index"))},onError:r=>{p.error("Error creating the account"),console.error("Error:",r)},onFinish:()=>{u(!1)}})},C=s=>{s.preventDefault(),t.setData(r=>({...r,posting_prices:[...r.posting_prices,0]}))},N=s=>{t.setData(r=>({...r,posting_prices:r.posting_prices.filter((a,P)=>P!==s)}))},q=(s,r)=>{const a=[...t.data.posting_prices];a[s]=r,t.setData("posting_prices",a)},d=e.jsx(c,{className:"btn btn-primary",onClick:C,children:"More"}),m=e.jsx(c,{className:"btn btn-primary mt-4",disabled:l,onClick:y,children:l?"Creating":"Create"});return e.jsxs(e.Fragment,{children:[e.jsx(D,{title:"Create a account"}),e.jsx(M,{user:x.user,menu:b,breadcrumb:e.jsxs(e.Fragment,{children:[e.jsx("li",{className:"breadcrumb-item","aria-current":"page",children:e.jsx(k,{href:route("postings.index"),children:"Postings"})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Create"})]}),children:e.jsxs(R,{title:"Create a account",header:e.jsx(e.Fragment,{}),children:[e.jsxs(n,{title:"Posting's information",header:m,children:[e.jsx(T,{title:"Name",value:t.data.name,name:"name",description:"Enter the name of the account",required:!0,handleChange:i,instructions:"Minimum 5 caracters"}),e.jsx(S,{title:"Description",value:t.data.description,name:"description",description:"Enter the description of the account",required:!1,handleChange:i,instructions:"Not required"}),e.jsx(o,{title:"Postings category",elements:_,value:t.data.postings_category_id,name:"postings_category_id",description:"Enter the category you want to assing the account to",required:!0,handleChange:i,instructions:"Required"}),e.jsx(g,{title:"Max per day",value:t.data.max_per_day,name:"max_per_day",description:"Enter the name of the account",required:!0,handleChange:i,instructions:"Minimum 5 caracters"}),e.jsx(g,{title:"Photo per listing",value:t.data.photo_per_listing,name:"photo_per_listing",description:"Enter the name of the account",required:!0,handleChange:i,instructions:"Minimum 5 caracters"})]}),e.jsxs(n,{title:"Posting assets",children:[e.jsx(o,{title:"Accounts group",elements:h,value:t.data.accounts_group_id,name:"accounts_group_id",description:"Enter the group of accounts you want to use",required:!0,handleChange:i,instructions:"Required"}),e.jsx(o,{title:"Titles group",elements:f,value:t.data.titles_group_id,name:"titles_group_id",description:"Enter the group of titles you want to use",required:!0,handleChange:i,instructions:"Required"}),e.jsx(o,{title:"Photos group",elements:j,value:t.data.photos_group_id,name:"photos_group_id",description:"Enter the group of photos you want to use",required:!0,handleChange:i,instructions:"Required"}),e.jsx(o,{title:"Descriptions group",elements:v,value:t.data.descriptions_group_id,name:"descriptions_group_id",description:"Enter the group of descriptions you want to use",required:!1,handleChange:i,instructions:"Not required"})]}),e.jsxs(n,{title:"Posting prices",header:d,children:[t.data.posting_prices.map((s,r)=>e.jsxs("div",{className:"form-inline items-start flex-col xl:flex-row mt-5 pt-5 first:mt-0 first:pt-0 pb-4",children:[e.jsx("div",{className:"form-label xl:w-64 xl:!mr-10",children:e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"font-medium",children:["Price ",r+1]}),e.jsx("div",{className:"ml-2 px-2 py-0.5 bg-slate-200 text-slate-600 dark:bg-darkmode-300 dark:text-slate-400 text-xs rounded-md",children:"Required"})]}),e.jsx("div",{className:"leading-relaxed text-slate-500 text-xs mt-3",children:"price"})]})}),e.jsx("div",{className:"w-full mt-3 xl:mt-0 flex-1",children:e.jsxs("div",{className:"w-full mt-3 xl:mt-2 flex-1",children:[e.jsx("input",{type:"number",required:!0,onChange:a=>q(r,Number(a.target.value)),className:"form-control"}),e.jsx("div",{className:"form-help text-right mt-2",children:"Price"})]})}),e.jsx("div",{className:"mt-3 xl:mt-0 ms-2",children:e.jsx(c,{className:"btn btn-primary",onClick:()=>N(r),children:"-"})})]},r)),d]}),e.jsx("br",{}),m]})})]})};export{V as default};
