import{W as C,r as w,j as e,Y as D,a as k,B as g,y as F}from"./app-BoZTgQsX.js";import{P as R}from"./Page--3rH9CWd.js";import{W as S}from"./Webmaster-Bv87JR7w.js";import{G as c,C as T}from"./CustomTextarea-DEG0QHIv.js";import{C as B}from"./CustomTextInput-Z86LNiYJ.js";import{C as n}from"./CustomSelect-DoeCfrj0.js";import{h as d}from"./button-B2sf8A_v.js";import"./createLucideIcon-D7_ziMnv.js";import"./facebook-KEMOOEa1.js";import"./save-DI95csvW.js";import"./transition-DzzVVFzt.js";import"./render-CcWegbys.js";import"./disabled-CPkVuo-X.js";const U=({auth:x,posting:i,accounts:h,categories:_,titles:f,photos:j,descriptions:b,menu:v})=>{const s=C({name:i.name,description:i.description,postings_category_id:i.postings_category_id,accounts_group_id:i.accounts_group_id,titles_group_id:i.titles_group_id,photos_group_id:i.photos_group_id,descriptions_group_id:i.descriptions_group_id,posting_prices:i.posting_prices_numbers}),[l,u]=w.useState(!1),o=r=>{const{name:t,value:a}=r.target;s.setData(t,a)},y=async r=>{r.preventDefault(),u(!0),s.post(route("postings.update",{posting:i.id}),{forceFormData:!0,headers:{"Content-Type":"multipart/form-data"},onSuccess:()=>{g.success("Posting has been updated successfully"),F.get(route("postings.index"))},onError:t=>{g.error("Error updating the posting"),console.error("Error:",t)},onFinish:()=>{u(!1)}})},N=r=>{r.preventDefault(),s.setData(t=>({...t,posting_prices:[...t.posting_prices,0]}))},E=r=>{s.setData(t=>({...t,posting_prices:t.posting_prices.filter((a,q)=>q!==r)}))},P=(r,t)=>{const a=[...s.data.posting_prices];a[r]=t,s.setData("posting_prices",a)},m=e.jsx(d,{className:"btn btn-primary",onClick:N,children:"More"}),p=e.jsx(d,{className:"btn btn-primary mt-4",disabled:l,onClick:y,children:l?"Editing":"Edit"});return e.jsxs(e.Fragment,{children:[e.jsx(D,{title:"Edit a posting"}),e.jsx(S,{user:x.user,menu:v,breadcrumb:e.jsxs(e.Fragment,{children:[e.jsx("li",{className:"breadcrumb-item","aria-current":"page",children:e.jsx(k,{href:route("postings.index"),children:"Postings"})}),e.jsx("li",{className:"breadcrumb-item active","aria-current":"page",children:"Edit"})]}),children:e.jsxs(R,{title:"Edit a posting",header:e.jsx(e.Fragment,{}),children:[e.jsxs(c,{title:"Posting's information",header:p,children:[e.jsx(B,{title:"Name",value:s.data.name,name:"name",description:"Enter the name of the account",required:!0,handleChange:o,instructions:"Minimum 5 caracters"}),e.jsx(T,{title:"Description",value:s.data.description,name:"description",description:"Enter the description of the account",required:!1,handleChange:o,instructions:"Not required"}),e.jsx(n,{title:"Postings category",elements:_,value:s.data.postings_category_id,name:"postings_category_id",description:"Enter the category you want to assing the account to",required:!0,handleChange:o,instructions:"Required"})]}),e.jsxs(c,{title:"Posting assets",children:[e.jsx(n,{title:"Accounts group",elements:h,value:s.data.accounts_group_id,name:"accounts_group_id",description:"Enter the group of accounts you want to use",required:!0,handleChange:o,instructions:"Required"}),e.jsx(n,{title:"Titles group",elements:f,value:s.data.titles_group_id,name:"titles_group_id",description:"Enter the group of titles you want to use",required:!0,handleChange:o,instructions:"Required"}),e.jsx(n,{title:"Photos group",elements:j,value:s.data.photos_group_id,name:"photos_group_id",description:"Enter the group of photos you want to use",required:!0,handleChange:o,instructions:"Required"}),e.jsx(n,{title:"Descriptions group",elements:b,value:s.data.descriptions_group_id,name:"descriptions_group_id",description:"Enter the group of descriptions you want to use",required:!1,handleChange:o,instructions:"Not required"})]}),e.jsxs(c,{title:"Posting prices",header:m,children:[s.data.posting_prices.map((r,t)=>e.jsxs("div",{className:"form-inline items-start flex-col xl:flex-row mt-5 pt-5 first:mt-0 first:pt-0 pb-4",children:[e.jsx("div",{className:"form-label xl:w-64 xl:!mr-10",children:e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"font-medium",children:["Price ",t+1]}),e.jsx("div",{className:"ml-2 px-2 py-0.5 bg-slate-200 text-slate-600 dark:bg-darkmode-300 dark:text-slate-400 text-xs rounded-md",children:"Required"})]}),e.jsx("div",{className:"leading-relaxed text-slate-500 text-xs mt-3",children:"price"})]})}),e.jsx("div",{className:"w-full mt-3 xl:mt-0 flex-1",children:e.jsxs("div",{className:"w-full mt-3 xl:mt-2 flex-1",children:[e.jsx("input",{type:"number",value:r,required:!0,onChange:a=>P(t,Number(a.target.value)),className:"form-control"}),e.jsx("div",{className:"form-help text-right mt-2",children:"Price"})]})}),e.jsx("div",{className:"mt-3 xl:mt-0 ms-2",children:e.jsx(d,{className:"btn btn-primary",onClick:()=>E(t),children:"-"})})]},t)),m]}),e.jsx("br",{}),p]})})]})};export{U as default};
